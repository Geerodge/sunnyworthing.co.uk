<header class="nav relative bg-white">
    <div class="nav-container max-w-7xl mx-auto px-4 sm:px-6 lg:px-0">
        <div class="flex justify-between items-center h-full">
            <div class="flex justify-center">
                <a href="/">
                    <img class="h-80 w-auto pr-4" src="/assets/logo.svg" loading="lazy" alt="logo" />
                </a>
            </div>
            <nav class="nav hidden lg:flex lg:items-center">
                {{ nav:main_nav }}
                    <a href="{{ url }}"
                        class="nav-link text-xl {{ is_current || is_parent ?= "nav-link--active" }}">
                        {{ title }}
                    </a>
                    {{ if children }}
                        <nav class="nav__dropdown">
                            {{ *recursive children* }}
                        </nav>
                    {{ endif }}
                {{ /nav:main_nav }}
            </nav>
            <div class="-mr-2 -my-2 lg:hidden">
                <button type="button"
                    class="js-hamburger-menu rounded-md p-2 inline-flex items-center justify-center text-brand-primary transition-color hover:text-brand-primary">
                    <!-- Heroicon name: outline/menu -->
                    <svg class="h-8 w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor" aria-hidden="true">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M4 6h16M4 12h16M4 18h16" />
                    </svg>
                </button>
            </div>
        </div>
    </div>
    <div class="mobile-nav mobile-nav-closed js-mobile-nav">
        <div class="rounded-lg shadow-lg bg-brand-white">
            <div class="pt-4 pb-5 px-4">
                <div class="flex items-center justify-between">
                    <div>
                        <a href="/">
                            <img loading="lazy" class="h-20 w-auto -ml-2 sm:ml-0 pr-2" src="/assets/logo.svg" alt="logo" />
                        </a>
                    </div>
                    <div class="-mr-4">
                        <button type="button"
                            class="js-hamburger-menu rounded-md p-2 inline-flex items-center justify-center text-brand-primary transition-color hover:text-brand-primary">
                            <!-- Heroicon name: outline/x -->
                            <svg class="h-8 w-8" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                                stroke="currentColor" aria-hidden="true">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="mt-6">
                    <nav class="grid gap-y-8">
                        {{ nav:main_nav }}
                            <a href="{{ url }}"
                                class="nav-link text-base {{ is_current || is_parent ?= "nav-link nav-link--active" }}">
                                {{ title }}
                            </a>
                            {{ if children }}
                                <nav class="mobile-nav-children">
                                    {{ *recursive children* }}
                                </nav>
                            {{ endif }}
                        {{ /nav:main_nav }}
                    </nav>
                </div>
            </div>
        </div>
    </div>
</header>
<script>
    const mobileNav = document.querySelector(".js-mobile-nav");
    const hamburgerMenu = document.querySelectorAll(".js-hamburger-menu");
    // const navbarLinks = document.querySelectorAll(".js-anchor");

    let mobileMenuOpen = false;

    hamburgerMenu.forEach((menu) => {
        menu.addEventListener("click", () => {
            mobileMenuOpen = !mobileMenuOpen;
            if (mobileMenuOpen) {
                mobileNav.classList.remove("mobile-nav-closed");
                mobileNav.classList.add("mobile-nav-open");
            } else {
                mobileNav.classList.add("mobile-nav-closed");
                mobileNav.classList.remove("mobile-nav-open");
            }
        });
    });
</script>